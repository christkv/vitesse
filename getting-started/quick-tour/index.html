<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<meta name="keyword" content="">

    <link rel="shortcut icon" href="//img/favicon.png">

    <title>Quick Tour</title>

    <link rel="stylesheet" href="//lib/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="//lib/font-awesome/css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="//css/mongodb-docs.css" type="text/css" />
<link rel="stylesheet" href="//css/overrides.css" type="text/css" />
<link rel="stylesheet" href="//lib/highlight/styles/idea.css" />
<link rel="stylesheet" href="//lib/bootstrap-toggle/bootstrap-toggle.min.css" type="text/css" />
<link rel="stylesheet" href="//css/java.css" type="text/css" />


  </head>

  <body>
  
  <section id="container" class="">
      
      <header id="header-db" class="row" role="navigation">
  <div class="header-content">
    <div class="toggle-nav pull-left">
        <i class="fa fa-bars"></i>
        <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
    </div>
    
    <div class="logo pull-left">
      <a href="//../">
        <img src="//img/train-161606_640.png", alt="MongoDB.org" />
      </a>
    </div>
    
    <div>
<div class="nav-items pull-right">
  <div id="search">
<form method="get" action="//www.google.com/search" target="_blank">
    <input type="text" name="searchQuery" size="20" value="" autocomplete="off" placeholder="Search docs">
    <input type="hidden" name="site" value="/">
    <input type="hidden" name="q" value="">
    <label for="searchQuery"><i class="fa fa-search fa-1"></i></label>
</form>
</div>

</div>
</div>

  </div>
</header>

      

      
<aside id="sidebar" class="sidebar">
    <div class="ssidebar nav-collapse">
      <div class="ssidebarwrapper">
        <h3>
          <a class="index-link" href="//../">Vitesse</a>
          <a class="version pull-right" href="/">1.0</a>
        </h3>

        
        <ul class="sidebar-menu">
          
          
          
          
          
          
          
          
          
          
          
          

          
          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
  
  
  
  
  
  
  

  
    
    
    
  
  


        
      
    
    
  


          
            
            









  
    
    
      
      
    
    
  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          

          

          
            
            













  




<li class="toctree-l1  current">
  <a href="/getting-started/" class="">
      <i class='fa fa-road'></i>
      <span>Getting Started</span>
      <span class="menu-arrow fa fa-angle-down"></span>
  </a>
    <ul  class="current">
        
        
        
        
















    <li class="toctree-l2">
    <a href="/getting-started/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
        
        
        













  




    <li class="toctree-l2">
    <a href="/getting-started/quick-tour/">
        <i class='fa'></i>
        Quick Tour
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/reference/" class="">
      <i class='fa fa-book'></i>
      <span>Reference</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/reference/dsl/">
        <i class='fa'></i>
        Domain Specific Language
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/api/">
        <i class='fa fa-file-text-o'></i>
        API Documentation
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="https://github.com/christkv/vitesse">
        <i class='fa fa-github'></i>
        Source Code
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/issues-help/">
        <i class='fa fa-life-ring'></i>
        Issues &amp; Help
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="https://gitter.im/christkv/vitesse?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge">
        <img src='https://badges.gitter.im/Join Chat.svg'/>
        
    </a>
  </li>


          
        </ul>
        
    </div>
  </div>
  
</aside>

<div class="option-popup closed hidden" id="optionsVersionsPopup">
<div class="option-header">
  <i class="fa fa-gear"></i>
  <span>OPTIONS</span>
  <i class="fa fa-angle-up pull-right"></i>
</div>
<div class="option-body">
  <ul>
      
      <li>
        <label>Version</label>
        <div class="btn-group btn-group-xs pull-right">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            Select Version <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu" id="optionsVersionsMenu">
          </ul>
        </div>
      </li>

   


    

  </ul>
</div>
</div>



      
      <section id="main-content" class="content">
          <section class="main-column pull-left">
            <div class="document">
              <div class="documentwrapper">
                <div class="bodywrapper">
                  <div class="body">


   
<a class="edit-link" href="https://github.com/mongodb/vitesse/blob/master/docs/reference/content/getting-started/quick-tour.md" target="_blank" title="Edit getting-started/quick-tour.md on GitHub"><i class="fa fa-pencil-square-o"></i></a>










<div class="bc">
<ul>
  
  
  
  
  
  <li><a href="/getting-started/">Getting Started</a> <i class="fa fa-angle-right"></i></li>
  <li>Quick Tour</li>
</ul>
</div>




<h1 id="quickstart">QuickStart</h1>

<p>This quick guide will give you an introduction on what Vitesse is and how to leverage it in your application for high performance validations.</p>

<h2 id="introduction">Introduction</h2>

<p>Vitesse is a framework that lets you easily create your own Domain Specific Validation languages (DSVL). The goal of Vitesse it to generate efficient fast code while allowing you to freely express yourself when designing your favorite style of validation framework.</p>

<p>It can serve as a target for JSON Schema implementations, a Joi like framework or whatever you can think of.</p>

<h2 id="under-the-covers">Under the covers</h2>

<p>To understand how Vitesse works it&rsquo;s easier to show a simple example. Let&rsquo;s look at a very simple Object validator.</p>

<pre><code class="language-js">var ObjectNode = require('vitesse').ObjectNode,
  StringNode = require('vitesse').StringNode,
  IntegerNode = require('vitesse').IntegerNode,
  Compiler = require('vitesse').Compiler;

var schema = new ObjectNode(null, null, {typeCheck:true})
  .addChild('name', new StringNode(null, null, {typeCheck:true}))
  .addChild('age', new IntegerNode(null, null, {typeCheck:true}))
  .requiredFields(['name', 'age']);

var compiler = new Compiler();
var validator = compiler.compile(schema);
console.dir(validator.validate({name: 'peter'}))
console.dir(validator.validate({name: 'peter', age: '10'}))
console.dir(validator.validate({name: 'peter', age: 10}))
</code></pre>

<p>The first part of the code</p>

<pre><code class="language-js">var schema = new ObjectNode(null, null, {typeCheck:true})
  .addChild('name', new StringNode(null, null, {typeCheck:true}))
  .addChild('age', new IntegerNode(null, null, {typeCheck:true}))
  .requiredFields(['name', 'age']);
</code></pre>

<p>Constructs a object hierarchy that represents the intended validations we want applied to an object.</p>

<p>The next part.</p>

<pre><code class="language-js">var compiler = new Compiler();
var validator = compiler.compile(schema);
</code></pre>

<p>Compiles that object hierarchy into <code>Javascript</code> code and then uses <code>eval</code> to return you a instantiated validation function that is optimized to perform the validation as close to hand-coded validations as possible.</p>

<p>Finally we print the results of a couple of example validations.</p>

<pre><code class="language-js">console.dir(validator.validate({name: 'peter'}))
console.dir(validator.validate({name: 'peter', age: '10'}))
console.dir(validator.validate({name: 'peter', age: 10}))
</code></pre>

<h2 id="closure-compiler">Closure Compiler</h2>

<p>The <code>Vitesse</code> module also comes with an alternative compiler that leverages the Google Closure compiler. This requires a <code>Java</code> runtime to be installed on the system as the module will execute a child process to compile the generated JavaScript with the Closure Compiler to maximize the performance.</p>

<p>Be aware that the Closure Compiler is a magnitude slower than the normal Compiler as it requires to execute Java in a child process each time you call compile.</p>

<p>Let&rsquo;s look at how we can compile the example above using the Closure Compiler. Notice that we require a callback as the operation is Asynchronous.</p>

<pre><code class="language-js">var ObjectNode = require('vitesse').ObjectNode,
  StringNode = require('vitesse').StringNode,
  IntegerNode = require('vitesse').IntegerNode,
  ClosureCompiler = require('vitesse').ClosureCompiler;

var schema = new ObjectNode(null, null, {typeCheck:true})
  .addChild('name', new StringNode(null, null, {typeCheck:true}))
  .addChild('age', new IntegerNode(null, null, {typeCheck:true}))
  .requiredFields(['name', 'age']);

var compiler = new ClosureCompiler();
compiler.compile(schema, function(err, validator) {
  console.dir(validator.validate({name: 'peter'}))
  console.dir(validator.validate({name: 'peter', age: '10'}))
  console.dir(validator.validate({name: 'peter', age: 10}))  
});
</code></pre>






<div id="btnv">
  
  <div class="pull-left">
  <a class="navigation prev" href="/getting-started/installation-guide/">
      <i class="fa fa-long-arrow-left"> </i> Installation Guide
  </a>
  </div>
  
  
</div>
</div>


<div id="disqus_thread"></div>
<script type="text/javascript">
     
    var disqus_shortname = 'nodejsmongodbdriver'; 
     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div>
<div class="right-column">
<div class="wrapper">
  
  <div class="toc">
    <span class="toc-header">On this page</span>
    <nav id="TableOfContents">
<ul>
<li><a href="#quickstart">QuickStart</a>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#under-the-covers">Under the covers</a></li>
<li><a href="#closure-compiler">Closure Compiler</a></li>
</ul></li>
</ul>
</nav>
  </div>
  
</div>
</div>

</div>
</div>
</div>
</section>
</section>

</section>


<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
   URL_ROOT:    "/",
   VERSION:     "1.0",
   COLLAPSE_INDEX: false,
   FILE_SUFFIX: '.html',
   HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="//js/jquery.js"></script>
<script type="text/javascript" src="//lib/bootstrap.js"></script>
<script type="text/javascript" src="//js/navbar.js"></script>
<script type="text/javascript" src="//lib/highlight/highlight.pack.js"></script>
<script type="text/javascript" src="//js/scripts.js"></script>
<script type="text/javascript" src="//lib/bootstrap-toggle/bootstrap-toggle.min.js"></script>
<script type="text/javascript" src="//js/java.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-29229787-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>

